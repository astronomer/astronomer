#################################
## Astronomer Bootstrap Secret
#################################
{{- if .Values.global.mysql.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: astronomer-bootstrap
  {{ if .Values.global.enableArgoCDAnnotation }}
  annotations:
    argocd.argoproj.io/sync-wave: "-1"
  {{- end }}
data:
  connection: {{ printf "mysql://%s:%s@%s-mysql.%s.svc.cluster.local:%s" .Values.global.mysql.username .Values.global.mysql.password .Release.Name .Release.Namespace ( .Values.global.mysql.servicePort | toString ) | b64enc | quote }}
{{- end }}
