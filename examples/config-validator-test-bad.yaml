#########################################################
## Example: Invalid configuration with multiple errors
## This demonstrates the validator catching:
## - Missing required fields
## - Typos
## - Type mismatches
## - Cross-field conflicts
## - Ineffective configurations
#########################################################
global:
  # ERROR: baseDomain not set but singleNamespace is false
  # baseDomain: astronomer.example.com

  # ERROR: Typo - should be "privateRegistry"
  priavteRegistry:
    enabled: true
    # ERROR: Missing required repository when enabled=true
    secretName: private-registry-secret

  # ERROR: Invalid SSL mode
  ssl:
    enabled: true
    mode: invalid-mode
    grafana:
      # ERROR: Invalid sslmode for grafana
      sslmode: prefer

  # TYPO: Common airgap typo
  airgapped: true

  # ERROR: Type mismatch - should be int
  nats:
    enabled: true
    replicas: "three"
    jetStream:
      enabled: false
      tls: false

  # ERROR: STAN enabled but NATS disabled
  stan:
    enabled: true
    replicas: 3

  # WARNING: Private registry enabled but no certs provided
  privateCaCertsAddToHost:
    enabled: true

  # ERROR: Namespace pools enabled with create=true but no names provided
  features:
    namespacePools:
      enabled: true
      createRbac: true
      namespaces:
        create: true
        names: []

  # ERROR: Custom logging enabled but missing required fields
  customLogging:
    enabled: true
    scheme: https
    # Missing: host
    # Missing: port

  # WARNING: Ineffective - logging sidecar enabled but no logging backend
  loggingSidecar:
    enabled: true

  # WARNING: Not recommended for production
  postgresqlEnabled: true

# ERROR: Unknown root field
invalidField: somevalue

tags:
  platform: true
  # WARNING: Monitoring disabled but configs are set below
  monitoring: false
  logging: true

# WARNING: These configs will have no effect because tags.monitoring=false
prometheus:
  retention: 15d
  persistence:
    enabled: true
    size: 150Gi

grafana:
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
